# Charity Shop Management System

## Overview

This is a web-based application designed to manage and showcase the items available in charity shops. The application allows volunteers to add, edit, and delete items in their specific shop, while managers have full control over all items and volunteers.

## Table of Contents

- [Features](#features)
- [Installation](#installation)
- [Usage](#usage)
- [Routes](#routes)
- [Data Structure](#data-structure)
- [Screenshots](#screenshots)
- [License](#license)

## Features

- **User Roles:** Two roles are supported - `Manager` and `Volunteer`.
  - **Manager:** Can manage all items and volunteers.
  - **Volunteer:** Can manage only their own items.
- **Item Management:**
  - Add, edit, and delete items.
  - Upload images for items.
- **Volunteer Management:**
  - Managers can add and remove volunteers.
- **Authentication:**
  - Secure login system.
  - Passwords are hashed for security.
- **Responsive Design:**
  - The application is responsive and works well on different screen sizes.

## Installation

### Prerequisites

- [Node.js](https://nodejs.org/) (version 14.x or higher)
- [npm](https://www.npmjs.com/) (version 6.x or higher)

### Steps

1. **Clone the repository:**

   ```bash
   git clone https://github.com/petmorr/charity-shop-management.git
   cd charity-shop-management
   ```

2. **Install dependencies:**

   ```bash
   npm install
   ```

3. **Set up environment variables:**

   Create a `.env` file in the root directory and add the following variables:

   ```
   SESSION_SECRET=your_secret_key
   PORT=3000
   ```

4. **Run the application:**

   ```bash
   nodemon app.js
   ```

5. **Access the application:**

   Open your browser and go to `http://localhost:3000`.

## Usage

### User Roles

- **Managers** have the ability to add, edit, and delete any item, as well as manage volunteers.
- **Volunteers** can add items and manage only the items they have created.

### Authentication

- Navigate to `/auth/login` to log in.
- Managers can log in and navigate to the `/manage-volunteers` page to add or remove volunteers.

### Item Management

- Managers and volunteers can access the `/manage-items` page to manage items.
- The edit and delete functionality is available based on the userâ€™s role and item ownership.

## Routes

### Public Routes

- `/`: Redirects to `/about`
- `/about`: Displays information about the charity and its shops.
- `/auth/login`: Login page.
- `/auth/register`: Registration page (for managers).

### Manager Routes

- `/dashboard`: Manager dashboard.
- `/manage-items`: Manage all items.
- `/manage-volunteers`: Manage volunteers.

### Volunteer Routes

- `/dashboard`: Volunteer dashboard.
- `/manage-items`: Manage own items.

### API Routes

- `POST /manage-items/api`: Add a new item.
- `POST /manage-items/api/edit/:id`: Edit an existing item.
- `DELETE /manage-items/api/:id`: Delete an item.
- `POST /manage-volunteers/add`: Add a volunteer.
- `DELETE /manage-volunteers/delete/:id`: Remove a volunteer.

## Data Structure

### Users Collection (users.db)

- `username`: String, unique, required.
- `password`: String, hashed, required.
- `email`: String, unique, required.
- `role`: String, either "manager" or "volunteer", required.
- `_id`: String, auto-generated by the database, unique.

### Items Collection (items.db)

- `name`: String, required.
- `description`: String, required.
- `price`: Number, required.
- `store`: String, required.
- `image`: String, path to the uploaded image, optional.
- `owner`: String, username of the item creator, required.
- `_id`: String, auto-generated by the database, unique.

## Screenshots

(insert screenshots later)
